import{b as s}from"./chunk-GUVSRPRW.js";var i,a=s(()=>{i={SUPABASE_URL:window?.__ENV?.SUPABASE_URL??"",SUPABASE_ANON_KEY:window?.__ENV?.SUPABASE_ANON_KEY??""}});import{createClient as l}from"https://esm.sh/@supabase/supabase-js@2";function u(e){return typeof e=="string"?e.trim():""}function p(e){return e&&(n=e,o=!0),n}function d(){if(n)return n;if(!o&&typeof window<"u"&&window.supabase)return p(window.supabase);o=!0;let e=u(i?.SUPABASE_URL),r=u(i?.SUPABASE_ANON_KEY);if(!e||!r)return console.error("[supabase] Missing SUPABASE_URL or SUPABASE_ANON_KEY."),null;try{n=l(e,r),typeof window<"u"&&(window.supabase=n);try{let t=new URL(e).hostname.split(".")[0];console.info("[supabase] Client initialised for project:",t)}catch{console.info("[supabase] Client initialised.")}}catch(t){console.error("[supabase] Failed to initialise client.",t),n=null}return n}var n,o,c=s(()=>{a();n=null,o=!1});export{p as a,d as b,c};
