/* Mobile/short-viewport adjustments to fit entire UI on one screen without scrolling.
   Drop this file into src/styles/ and import it from your entry JS or link from your HTML.
*/

@media (max-width: 480px), (max-height: 760px) {
  :root {
    --mc-app-padding: 8px;
    --mc-header-height: 44px;
    --mc-button-padding: 8px 10px;
    --mc-font-scale: 0.94;
  }

  /* Make the root container fill the viewport and use column flex layout */
  html, body, #root, .app {
    height: 100vh;
    margin: 0;
  }
  .app {
    display: flex;
    flex-direction: column;
    min-height: 0; /* important for children flex shrinking */
    font-size: calc(1rem * var(--mc-font-scale));
  }

  /* Header: reduce height and padding */
  .header, header, .app-header {
    height: var(--mc-header-height);
    padding: 6px 8px;
    line-height: 1;
    display: flex;
    align-items: center;
    gap: 8px;
  }

  /* Main area stacks and shrinks cleanly */
  .main, .content, .workspace {
    flex: 1 1 auto;
    min-height: 0; /* allow inner overflow handling */
    display: flex;
    flex-direction: column;
    gap: 6px;
    padding: var(--mc-app-padding);
  }

  /* Note list and editor should share available space without forcing page scroll */
  .note-list, .notes-panel, .sidebar {
    flex: 0 0 auto;
    max-height: 28vh; /* keep list limited */
    overflow: hidden;
  }

  .editor, .note-editor {
  flex: 1 1 auto;        /* Was: 0 0 auto */
  max-height: none;      /* Was: 46vh */
  overflow: visible;
}
.editor textarea, .note-editor textarea, textarea.note-body {
  width: 100%;
  box-sizing: border-box;
  height: 100%;          /* Was: calc(46vh - 16px) */
  min-height: 60vh;
  resize: none;
}

  /* Action bar with Save / New Note pinned inside viewport */
  .action-bar, .toolbar, .editor-actions {
    display: flex;
    gap: 8px;
    justify-content: space-between;
    align-items: center;
    padding: 6px;
    flex: 0 0 auto;
  }

  /* Compact buttons */
  .btn, button {
    padding: var(--mc-button-padding);
    font-size: 0.95rem;
  }
  .btn-primary, .btn-save, .btn-new {
    flex: 1 1 auto;
  }

  /* Reduce margins around individual controls */
  .field, .form-row {
    margin: 4px 0;
  }
}

/* For very short screens, slightly scale the whole app down as a last-resort */
@media (max-height: 600px) and (max-width: 480px) {
  .app {
    transform: scale(0.95);
    transform-origin: top;
  }
  .header, .action-bar {
    font-size: 0.9em;
  }
}
