import{b as _}from"./chunk-GUVSRPRW.js";var i,E=_(()=>{i={SUPABASE_URL:window?.__ENV?.SUPABASE_URL??"",SUPABASE_ANON_KEY:window?.__ENV?.SUPABASE_ANON_KEY??"",AI_PROVIDER:window?.__ENV?.AI_PROVIDER??"",AI_MODEL:window?.__ENV?.AI_MODEL??"",CLAUDE_SONNET_45_ENABLED:typeof window?.__ENV?.CLAUDE_SONNET_45_ENABLED<"u"?window.__ENV.CLAUDE_SONNET_45_ENABLED==="true"||window.__ENV.CLAUDE_SONNET_45_ENABLED===!0:!0}});import{createClient as s}from"https://esm.sh/@supabase/supabase-js@2";function a(e){return typeof e=="string"?e.trim():""}function A(e){return e&&(n=e,o=!0),n}function f(){if(n)return n;if(!o&&typeof window<"u"&&window.supabase)return A(window.supabase);o=!0;let e=a((typeof import.meta<"u"?import.meta.env?.VITE_SUPABASE_URL:void 0)||i?.SUPABASE_URL),r=a((typeof import.meta<"u"?import.meta.env?.VITE_SUPABASE_ANON_KEY:void 0)||i?.SUPABASE_ANON_KEY);if(!e||!r)return console.error("[supabase] Missing SUPABASE_URL or SUPABASE_ANON_KEY."),null;try{n=s(e,r),typeof window<"u"&&(window.supabase=n);try{let t=new URL(e).hostname.split(".")[0];console.info("[supabase] Client initialised for project:",t)}catch{console.info("[supabase] Client initialised.")}}catch(t){console.error("[supabase] Failed to initialise client.",t),n=null}return n}var n,o,u=_(()=>{E();n=null,o=!1});export{A as a,f as b,u as c};
