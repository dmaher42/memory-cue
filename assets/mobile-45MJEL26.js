import{a as R,b as G,c as q,d as j,e as D,f as N,g as P,h as J}from"./chunk-Y6K6YNUX.js";import{a as F,b as $}from"./chunk-MG4MJA24.js";import"./chunk-KX65DZXT.js";import{c as V}from"./chunk-GUVSRPRW.js";var K=V(()=>{$();j();G();J();F();(function(){let n=()=>{let e=document.getElementById("create-sheet"),c=document.getElementById("closeCreateSheet");if(!(e instanceof HTMLElement)||!(c instanceof HTMLElement)){let r=typeof n._retryCount=="number"?n._retryCount:0;r<10&&(n._retryCount=r+1,setTimeout(n,50));return}if(n._initialised)return;n._initialised=!0;let y=e.querySelector("[data-dialog-content]"),d=e.querySelector(".sheet-backdrop"),o=document.getElementById("createReminderForm"),a=document.getElementById("saveReminder"),m=document.getElementById("priority"),S=document.getElementById("priorityChips"),k=S?Array.from(S.querySelectorAll('input[name="priority"]')):[],T=new Set([...Array.from(document.querySelectorAll("[data-open-add-task]")),...Array.from(document.querySelectorAll('[aria-controls="createReminderModal"]')),...Array.from(document.querySelectorAll("#addReminderFab"))]),i=Array.from(T).filter(r=>r instanceof HTMLElement),l=i[0]||null,h=()=>{e.classList.add("hidden"),e.setAttribute("hidden",""),e.setAttribute("aria-hidden","true"),e.removeAttribute("open"),e.classList.remove("open")};h();let s=null,v=(r,L)=>{try{document.dispatchEvent(new CustomEvent(r,{detail:L}))}catch(A){console.warn(`${r} dispatch failed`,A)}},I=()=>{let r=m?.value||"Medium";k.forEach(L=>{let A=L.value===r;L.checked=A,L.setAttribute("aria-checked",A?"true":"false")})},C=r=>{m&&(m.value!==r&&(m.value=r,m.dispatchEvent(new Event("change",{bubbles:!0}))),I())};k.forEach(r=>{r.addEventListener("change",()=>{r.checked&&C(r.value)})}),m?.addEventListener("change",I),I();let O=()=>{let r=e.querySelector('input, textarea, select, button, [contenteditable="true"]');r instanceof HTMLElement&&setTimeout(()=>{try{r.focus()}catch{}},0)},x=r=>{s=r instanceof HTMLElement?r:null,e.classList.remove("hidden"),e.removeAttribute("hidden"),e.setAttribute("aria-hidden","false"),e.setAttribute("open",""),e.classList.add("open"),s&&s.setAttribute("aria-expanded","true"),I(),O(),v("reminder:sheet-opened",{trigger:s})},B=(r="dismissed")=>{let L=!e.classList.contains("hidden");h(),s&&s.setAttribute("aria-expanded","false");let A=s&&document.body.contains(s)&&s||l;if(A&&typeof A.focus=="function")try{A.focus()}catch{}L&&v("reminder:sheet-closed",{reason:r,trigger:s}),s=null};i.forEach(r=>{r.addEventListener("click",L=>{L.preventDefault();let A={mode:"create",trigger:r};v("cue:prepare",A),v("cue:open",A)})}),c.addEventListener("click",r=>{r.preventDefault(),B("close-button")}),d?.addEventListener("click",r=>{r.target===d&&B("backdrop")}),e.addEventListener("keydown",r=>{r.key==="Escape"&&(r.stopPropagation(),B("escape"))}),y?.addEventListener("click",r=>{r.stopPropagation()}),e.addEventListener("click",r=>{r.target instanceof HTMLElement&&r.target.hasAttribute("data-close")&&B("backdrop")}),document.addEventListener("cue:open",r=>{I(),x(r?.detail?.trigger||null)}),document.addEventListener("cue:close",r=>{B(r?.detail?.reason||"cue-close")}),document.addEventListener("cue:prepare",()=>{I()}),document.addEventListener("cue:cancelled",()=>{B("cue-cancelled")}),typeof window<"u"&&(window.closeAddTask=B),document.addEventListener("reminder:save",r=>{if(!(a instanceof HTMLElement))return;let L=r?.detail?.trigger;L&&L!==a||a.matches(":disabled")||a.click()}),o instanceof HTMLFormElement&&a instanceof HTMLElement&&o.addEventListener("submit",r=>{r.preventDefault(),!a.matches(":disabled")&&a.click()})};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",n,{once:!0}):n()})();var H=()=>{H._initialised||(H._initialised=!0,q({variant:"mobile",qSel:"#searchReminders",titleSel:"#reminderText",dateSel:"#reminderDate",timeSel:"#reminderTime",detailsSel:"#reminderDetails",prioritySel:"#priority",categorySel:"#category",saveBtnSel:"#saveReminder",cancelEditBtnSel:"#cancelEditBtn",listSel:"#reminderList",listWrapperSel:"#remindersWrapper",emptyStateSel:"#emptyState",statusSel:"#statusMessage",syncStatusSel:"#mcStatusText",notifBtnSel:"#notifBtn",categoryOptionsSel:"#categorySuggestions",countTotalSel:"#totalCount",googleSignInBtnSel:"#googleSignInBtn",googleSignOutBtnSel:"#googleSignOutBtn",googleAvatarSel:"#googleAvatar",googleUserNameSel:"#googleUserName",syncAllBtnSel:"#syncAll",syncUrlInputSel:"#syncUrl",saveSettingsSel:"#saveSyncSettings",testSyncSel:"#testSync",openSettingsSel:'[data-open="settings"]',dateFeedbackSel:"#dateFeedback",voiceBtnSel:"#voiceBtn"}).catch(n=>{console.error("Failed to initialise reminders:",n)}))};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",H,{once:!0}):H();var _=()=>{if(typeof document>"u")return;let n=document.getElementById("noteTitleMobile"),e=document.getElementById("noteBodyMobile"),c=document.getElementById("noteSaveMobile"),y=document.getElementById("noteNewMobile"),d=document.getElementById("notesListMobile");if(!n||!e||!c)return;let o=null,a=i=>{if(!i){o=null,n.value="",e.value="";return}o=i.id,n.value=i.title||"",e.value=i.body||""},m=()=>{if(!d)return;d.querySelectorAll("button[data-note-id]").forEach(l=>{if(!(l instanceof HTMLElement))return;let h=l.getAttribute("data-note-id")===o;l.classList.toggle("bg-base-200",h),l.classList.toggle("border-base-200",!h),l.classList.toggle("border-primary",h),l.classList.toggle("font-medium",h),l.setAttribute("aria-current",h?"true":"false")})},S=()=>{let i=N();return Array.isArray(i)?[...i].sort((l,h)=>{let s=Date.parse(l?.updatedAt||""),v=Date.parse(h?.updatedAt||"");return(Number.isNaN(v)?0:v)-(Number.isNaN(s)?0:s)}):[]},k=(i=S())=>{if(!d)return i;if(d.innerHTML="",!i.length){let l=document.createElement("li");return l.className="text-sm italic text-base-content/60",l.textContent="No saved notes yet.",d.appendChild(l),i}return i.forEach(l=>{let h=document.createElement("li"),s=document.createElement("button");s.type="button",s.dataset.noteId=l.id,s.className="w-full rounded-lg border border-base-200 bg-base-100 px-3 py-2 text-left transition hover:bg-base-200 focus:outline-none focus-visible:ring focus-visible:ring-primary/60",s.textContent=l.title||"Untitled note",s.addEventListener("click",()=>{a(l),m()}),h.appendChild(s),d.appendChild(h)}),m(),i},T=()=>{let i=k();if(!i.length){a(null),m();return}let l=o?i.find(h=>h.id===o):null;a(l||i[0]),m()};c.addEventListener("click",()=>{let i=N(),l=Array.isArray(i)?[...i]:[],h=typeof n.value=="string"?n.value.trim():"",s=typeof e.value=="string"?e.value:"",v=h||"Untitled note",I=new Date().toISOString();if(o){let x=l.findIndex(B=>B.id===o);if(x>=0)l[x]={...l[x],title:v,body:s,updatedAt:I};else{let B=D(v,s,{updatedAt:I});o=B.id,l.unshift(B)}}else{let x=D(v,s);o=x.id,l.unshift(x)}P(l);let C=k(),O=o?C.find(x=>x.id===o):null;a(O||null),m()}),y&&y.addEventListener("click",()=>{o=null,n.value="",e.value="",m(),typeof n.focus=="function"&&n.focus()}),T()};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",_,{once:!0}):_();R({selectors:{signInButtons:["#googleSignInBtn"],signOutButtons:["#googleSignOutBtn"],userBadge:"#user-badge",userBadgeEmail:"#user-badge-email",userBadgeInitial:"#user-badge-initial",userName:"#googleUserName",syncStatus:["#sync-status"],syncStatusText:["#mcStatusText"],statusIndicator:["#mcStatus"],feedback:"#auth-feedback"},disableButtonBinding:!0});(()=>{let n=document.getElementById("overflowMenuBtn"),e=document.getElementById("overflowMenu");if(!(n instanceof HTMLElement)||!(e instanceof HTMLElement))return;let c='button:not([disabled]):not([tabindex="-1"]), [href]:not([tabindex="-1"]), input:not([disabled]):not([tabindex="-1"]), select:not([disabled]):not([tabindex="-1"]), textarea:not([disabled]):not([tabindex="-1"]), [tabindex]:not([tabindex="-1"])',y=n,d=i=>{if(!(i instanceof HTMLElement)||i.getAttribute("aria-hidden")==="true"||i.hasAttribute("disabled")||i.tabIndex<0)return!1;let l=i.getBoundingClientRect();return l.width>0||l.height>0},o=()=>Array.from(e.querySelectorAll(c)).filter(d),a=()=>{let i=e.classList.contains("hidden");e.setAttribute("aria-hidden",i?"true":"false")};a();let m=i=>{!e.contains(i.target)&&i.target!==n&&T({restoreFocus:!1})},S=()=>{let[i]=o();if(i instanceof HTMLElement)try{i.focus()}catch{}},k=()=>{e.classList.contains("hidden")&&(y=document.activeElement instanceof HTMLElement?document.activeElement:n,e.classList.remove("hidden"),n.setAttribute("aria-expanded","true"),a(),document.addEventListener("focusin",m),!e.contains(document.activeElement)&&S())},T=({restoreFocus:i=!0}={})=>{if(!e.classList.contains("hidden")&&(e.classList.add("hidden"),n.setAttribute("aria-expanded","false"),a(),document.removeEventListener("focusin",m),i&&y instanceof HTMLElement))try{y.focus()}catch{}};n.addEventListener("click",i=>{i.stopPropagation(),e.classList.contains("hidden")?k():T()}),document.addEventListener("click",i=>{i.target===n||e.contains(i.target)||T({restoreFocus:!1})}),document.addEventListener("keydown",i=>{if(i.key==="Escape"){T();return}i.key==="ArrowDown"&&!e.classList.contains("hidden")&&(i.preventDefault(),S())}),e.addEventListener("click",i=>{i.stopPropagation(),i.target instanceof HTMLElement&&i.target.closest("button")&&T({restoreFocus:!1})}),e.addEventListener("keydown",i=>{if(i.key!=="Tab")return;let l=o();if(!l.length)return;let h=l.indexOf(document.activeElement),s=l.length-1,v=h;i.shiftKey?v=h<=0?s:h-1:v=h===s?0:h+1,i.preventDefault();let I=l[v]||l[0];if(I instanceof HTMLElement)try{I.focus()}catch{}})})();(()=>{let n=document.getElementById("voiceAddBtn");if(!(n instanceof HTMLElement))return;let e=()=>{let d=document.getElementById("voiceBtn");return d instanceof HTMLElement?d:null},c=()=>{let d=e();if(!d)return;let o=()=>{d.hasAttribute("disabled")||d.getAttribute("aria-disabled")==="true"?(n.setAttribute("disabled","true"),n.setAttribute("aria-disabled","true")):(n.removeAttribute("disabled"),n.removeAttribute("aria-disabled"));let m=d.getAttribute("title");m&&n.setAttribute("title",m)};o(),typeof MutationObserver=="function"&&new MutationObserver(o).observe(d,{attributes:!0,attributeFilter:["disabled","aria-disabled","title"]})};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",c,{once:!0}):c();let y=()=>{let d=e();if(d&&!(d.hasAttribute("disabled")||d.getAttribute("aria-disabled")==="true")){try{d.focus({preventScroll:!0})}catch{try{d.focus()}catch{}}try{d.click()}catch(o){console.warn("Voice add trigger failed",o)}}};n.addEventListener("click",d=>{d.preventDefault();let o=!1,a=null,m=()=>{o||(o=!0,document.removeEventListener("reminder:sheet-opened",S),y())},S=T=>{if(T?.detail?.trigger!==n)return;typeof window<"u"&&typeof window.clearTimeout=="function"&&a&&(window.clearTimeout(a),a=null),(typeof window<"u"&&typeof window.setTimeout=="function"?window.setTimeout:setTimeout)(m,150)};document.addEventListener("reminder:sheet-opened",S);try{document.dispatchEvent(new CustomEvent("cue:open",{detail:{trigger:n}}))}catch(T){document.removeEventListener("reminder:sheet-opened",S),typeof window<"u"&&typeof window.clearTimeout=="function"&&a&&(window.clearTimeout(a),a=null),console.warn("Voice add open failed",T);return}let k=document.getElementById("create-sheet");k instanceof HTMLElement&&k.classList.contains("open")&&(a=(typeof window<"u"&&typeof window.setTimeout=="function"?window.setTimeout:setTimeout)(m,120))})})();(()=>{let n=document.getElementById("toggleReminderFilters"),e=document.getElementById("reminderFilters");if(!(n instanceof HTMLElement)||!(e instanceof HTMLElement))return;let c=["input","select","button","textarea",'[tabindex]:not([tabindex="-1"])'],y=()=>{let o=e.hasAttribute("open");n.setAttribute("aria-expanded",String(o)),n.classList.toggle("btn-active",o)},d=()=>{for(let o of c){let a=e.querySelector(o);if(a instanceof HTMLElement&&!a.hasAttribute("disabled")){try{a.focus({preventScroll:!0})}catch{a.focus()}return}}};n.addEventListener("click",()=>{let o=e.hasAttribute("open");e.open=!o,o||d(),y()}),e.addEventListener("toggle",y),y()})();(()=>{let n=document.getElementById("create-sheet");if(!(n instanceof HTMLElement))return;function e(){!n.classList.contains("open")&&n.classList.contains("hidden")||typeof window<"u"&&typeof window.closeAddTask=="function"&&window.closeAddTask()}document.addEventListener("memoryCue:remindersUpdated",e),document.addEventListener("reminders:updated",e)})();document.addEventListener("memoryCue:remindersUpdated",n=>{let e=document.getElementById("totalCount");if(!e)return;let c=Array.isArray(n?.detail?.items)?n.detail.items.length:0;e.textContent=String(c)});document.addEventListener("click",n=>{try{let e=n.target;if(!e)return;if(e instanceof HTMLElement&&e.id==="saveReminder"||e instanceof Element&&e.closest&&e.closest("#saveReminder")){console.log("Global click detected on #saveReminder",{target:e});try{let c=document.createElement("div");c.textContent="Save clicked",c.style.position="fixed",c.style.right="16px",c.style.bottom="16px",c.style.background="rgba(34,197,94,0.95)",c.style.color="#fff",c.style.padding="8px 12px",c.style.borderRadius="8px",c.style.zIndex="99999",document.body.appendChild(c),setTimeout(()=>c.remove(),900)}catch{}}}catch{}});(function(){let n=document.getElementById("reminderList");if(!n)return;let e=Array.from(n.children);if(e.length<=30)return;let c=20;n.innerHTML="";let y=0;function d(){let m=e.slice(y,y+c);m.forEach(S=>n.appendChild(S)),y+=m.length}d();let o=document.createElement("div");o.id="listSentinel",n.appendChild(o);let a=new IntersectionObserver(m=>{m.some(S=>S.isIntersecting)&&y<e.length&&(d(),y>=e.length&&a.disconnect())});a.observe(o)})();(function(){let n=Array.from(new Set([...Array.from(document.querySelectorAll('[data-open="settings"]')),...Array.from(document.querySelectorAll("#openSettings"))])).filter(o=>o instanceof HTMLElement),e=document.getElementById("settingsModal"),c=document.getElementById("closeSettings");if(!n.length||!e||!c)return;function y(){e.classList.remove("hidden")}function d(){e.classList.add("hidden")}n.forEach(o=>{o.addEventListener("click",y)}),c.addEventListener("click",d),e.addEventListener("click",o=>{o.target instanceof HTMLElement&&o.target.matches("[data-close]")&&d()}),e.addEventListener("keydown",o=>{o.key==="Escape"&&d()})})();(function(){let n=document.getElementById("syncStatus"),e=document.getElementById("mcStatus"),c=document.getElementById("mcStatusText"),y=document.getElementById("syncUrl"),d=document.getElementById("saveSyncSettings"),o=document.getElementById("testSync"),a=document.getElementById("syncAll"),m="syncUrl";if(!c)return;let S=["online","offline","error"],k=["online","offline"],T={checking:"Checking connection\u2026",syncing:"Syncing your latest changes\u2026",online:"Connected. Changes sync automatically.",offline:"You're offline. Changes are saved on this device until you reconnect.",error:"We couldn't sync right now. We'll retry soon.",info:""},i={checking:"Checking\u2026",syncing:"Syncing\u2026",online:"Synced. Auto-save on.",offline:"Offline. Saving locally.",error:"Sync issue. Retrying.",info:""},l=null;function h(t){if(!e)return;k.forEach(p=>e.classList.remove(p));let u=t!=="offline"&&t!=="error";e.classList.add(u?"online":"offline"),e.setAttribute("aria-label",u?"Online":"Offline")}function s(t,u){l=t,S.forEach(g=>c.classList.remove(g)),n&&S.forEach(g=>n.classList.remove(g)),t==="online"?(c.classList.add("online"),n&&n.classList.add("online")):t==="error"?(c.classList.add("error"),n&&n.classList.add("error")):(c.classList.add("offline"),n&&n.classList.add("offline"));let p=typeof u=="string"&&u.trim()?u.trim():T[t]||"",E=typeof u=="string"&&u.trim()?u.trim():i[t]||p,b=p||E||"";c.textContent=b,b?(c.setAttribute("title",b),c.setAttribute("aria-label",b)):(c.removeAttribute("title"),c.removeAttribute("aria-label")),h(t),c.dataset.state=t}function v(){l!=="syncing"&&s(navigator.onLine?"online":"offline")}function I(t){typeof localStorage>"u"||(t?localStorage.setItem(m,t):localStorage.removeItem(m))}function C(){if(typeof localStorage>"u")return"";try{return localStorage.getItem(m)||""}catch{return""}}function O(t){if(!t||typeof t!="object")return null;let u=t.id||t.uid||t.key||t.slug||t.uuid,p=typeof t.title=="string"&&t.title.trim()?t.title.trim():typeof t.name=="string"?t.name.trim():"";if(!p)return null;let E=typeof t.dueIso=="string"&&t.dueIso?t.dueIso:typeof t.due=="string"?t.due:null,b=typeof t.priority=="string"&&t.priority.trim()?t.priority.trim():t.level||t.importance||"Medium",g=typeof t.category=="string"&&t.category.trim()?t.category.trim():t.group||t.bucket||"General",f=typeof t.done=="boolean"?t.done:!!(t.completed||t.isDone||t.status==="done");return{id:u||(typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}-${Math.random()}`),title:p,dueIso:E&&E.trim()?E.trim():null,priority:b,category:g,done:f}}function x(){let t=Array.from(document.querySelectorAll("[data-reminder]"));return t.length?t.map(u=>{let p=u.dataset||{},E=null;if(p.reminder)try{E=JSON.parse(p.reminder)}catch{E=null}let b=E||{id:p.id||p.reminderId||u.getAttribute("data-id")||null,title:p.title||p.reminderTitle||"",dueIso:p.due||p.reminderDue||u.getAttribute("data-due")||null,priority:p.priority||p.reminderPriority||u.getAttribute("data-priority")||"",category:p.category||p.reminderCategory||u.getAttribute("data-category")||"",done:p.done==="true"||p.reminderDone==="true"||u.getAttribute("data-done")==="true"};if(!b.title){let g=u.querySelector("[data-reminder-title], [data-title], h3, h4, strong");g&&(b.title=g.textContent.trim())}if(!b.dueIso){let g=u.querySelector("[data-due], time");if(g){let f=g.getAttribute("datetime")||g.getAttribute("data-due");b.dueIso=f||g.textContent.trim()}}return O(b)}).filter(Boolean):[]}function B(){if(typeof localStorage>"u")return[];let t=[],u=new Set;if(["memoryCue.reminders.v1","memoryCue.reminders","memoryCueMobile.reminders","memoryCue.reminders.cache","reminders"].forEach(E=>{if(!u.has(E)){u.add(E);try{let b=localStorage.getItem(E);if(!b)return;let g=JSON.parse(b);Array.isArray(g)?g.forEach(f=>t.push(f)):g&&typeof g=="object"&&(Array.isArray(g.items)&&g.items.forEach(f=>t.push(f)),Array.isArray(g.reminders)&&g.reminders.forEach(f=>t.push(f)))}catch{}}}),!t.length)for(let E=0;E<localStorage.length;E+=1){let b=localStorage.key(E);if(!(!b||u.has(b)||!/remind/i.test(b))){u.add(b);try{let g=localStorage.getItem(b);if(!g)continue;let f=JSON.parse(g);Array.isArray(f)?f.forEach(M=>t.push(M)):f&&typeof f=="object"&&(Array.isArray(f.items)&&f.items.forEach(M=>t.push(M)),Array.isArray(f.reminders)&&f.reminders.forEach(M=>t.push(M)))}catch{}}}return t.map(O).filter(Boolean)}function r(){let t=x();return t.length?t:B()}function L(t){t?(a?.setAttribute("aria-busy","true"),a?.setAttribute("disabled","disabled"),o?.setAttribute("aria-busy","true"),o?.setAttribute("disabled","disabled")):(a?.removeAttribute("aria-busy"),o?.removeAttribute("aria-busy"),A())}function A(){!!((y?.value||"").trim()||C())?(a?.removeAttribute("disabled"),o?.removeAttribute("disabled")):(a?.setAttribute("disabled","disabled"),o?.setAttribute("disabled","disabled"))}let U=C();y&&U&&(y.value=U),A(),s(navigator.onLine?"online":"offline"),window.addEventListener("online",v),window.addEventListener("offline",v),y?.addEventListener("input",A),d?.addEventListener("click",()=>{let t=(y?.value||"").trim();if(!t){I(""),s("info","Sync URL cleared. Add one to enable sync."),A();return}try{let u=new URL(t);if(!/^https?:/.test(u.protocol))throw new Error("Invalid protocol")}catch{s("error","Enter a valid sync URL before saving.");return}I(t),s("online","Sync settings saved."),A()}),o?.addEventListener("click",async()=>{let t=(y?.value||C()).trim();if(!t){s("error","Add your sync URL in Settings first.");return}L(!0),s("syncing","Testing connection\u2026");try{(await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({test:!0})})).ok?s("online","Connection looks good."):s("error","Test failed. Check your Apps Script deployment.")}catch(u){console.error("Test sync failed",u),s("error","Test failed. Check your Apps Script deployment.")}finally{L(!1)}}),a?.addEventListener("click",async()=>{let t=(y?.value||C()).trim();if(!t){s("error","Add your sync URL in Settings first.");return}let u=r();if(!u.length){s("info","Nothing to sync right now.");return}L(!0),s("syncing",`Syncing ${u.length} reminder${u.length===1?"":"s"}\u2026`);let p=20,E=0,b=0,g=f=>({id:f.id,title:f.title,dueIso:f.dueIso||null,priority:f.priority||"Medium",category:f.category||"General",done:!!f.done,source:"memory-cue-mobile"});try{for(let f=0;f<u.length;f+=p){let M=u.slice(f,f+p);(await Promise.allSettled(M.map(w=>fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g(w))})))).forEach(w=>{w.status==="fulfilled"&&w.value?.ok?E+=1:(w.status,b+=1)}),await new Promise(w=>setTimeout(w,300))}b?E?s("error",`Partial sync: ${E} success, ${b} failed.`):s("error","Sync failed. Check your sync URL and retry."):s("online",`Sync complete. ${E} updated.`)}catch(f){console.error("Sync failed",f),s("error","Sync failed. Try again soon.")}finally{L(!1)}})})()});export default K();
