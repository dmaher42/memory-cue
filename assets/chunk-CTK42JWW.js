import{b as s}from"./chunk-GUVSRPRW.js";var i,_=s(()=>{i={SUPABASE_URL:window?.__ENV?.SUPABASE_URL??"",SUPABASE_ANON_KEY:window?.__ENV?.SUPABASE_ANON_KEY??"",AI_PROVIDER:window?.__ENV?.AI_PROVIDER??"",AI_MODEL:window?.__ENV?.AI_MODEL??"",CLAUDE_SONNET_45_ENABLED:typeof window?.__ENV?.CLAUDE_SONNET_45_ENABLED<"u"?window.__ENV.CLAUDE_SONNET_45_ENABLED==="true"||window.__ENV.CLAUDE_SONNET_45_ENABLED===!0:!0}});import{createClient as a}from"https://esm.sh/@supabase/supabase-js@2";function E(e){return typeof e=="string"?e.trim():""}function u(e){return e&&(n=e,o=!0),n}function w(){if(n)return n;if(!o&&typeof window<"u"&&window.supabase)return u(window.supabase);o=!0;let e=E(i?.SUPABASE_URL),r=E(i?.SUPABASE_ANON_KEY);if(!e||!r)return console.error("[supabase] Missing SUPABASE_URL or SUPABASE_ANON_KEY."),null;try{n=a(e,r),typeof window<"u"&&(window.supabase=n);try{let t=new URL(e).hostname.split(".")[0];console.info("[supabase] Client initialised for project:",t)}catch{console.info("[supabase] Client initialised.")}}catch(t){console.error("[supabase] Failed to initialise client.",t),n=null}return n}var n,o,A=s(()=>{_();n=null,o=!1});export{u as a,w as b,A as c};
