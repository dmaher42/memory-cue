<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Memory Cue â€” Teacher One-Stop Shop Organiser</title>
  <meta name="theme-color" content="#10b981" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#0f172a" media="(prefers-color-scheme: dark)">
  <link rel="preconnect" href="https://www.gstatic.com" crossorigin>
  <link rel="dns-prefetch" href="https://www.gstatic.com">
  <!-- Tailwind v4 (Play CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  <style>
    html { scroll-behavior: smooth; }
    /* Your existing Tailwind / other styles here */
    .hidden { display: none; }
    /* Safe area helper used by header (Tailwind doesn't ship this) */
    .pt-safe-top { padding-top: env(safe-area-inset-top); }
  </style>
</head>
<body id="top" class="bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 antialiased leading-7">
  <nav aria-label="Primary" class="flex gap-4 p-4">
    <button data-route="dashboard" id="nav-dashboard" class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-700 text-slate-900 dark:text-slate-100">Dashboard</button>
    <button data-route="reminders" id="nav-reminders" class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-700 text-slate-900 dark:text-slate-100">Reminders</button>
    <button data-route="planner" id="nav-planner" class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-700 text-slate-900 dark:text-slate-100">Planner</button>
    <button data-route="notes" id="nav-notes" class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-700 text-slate-900 dark:text-slate-100">Notes</button>
    <button data-route="resources" id="nav-resources" class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-700 text-slate-900 dark:text-slate-100">Resources</button>
    <button data-route="templates" id="nav-templates" class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-700 text-slate-900 dark:text-slate-100">Templates</button>
    <button data-route="settings" id="nav-settings" class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-700 text-slate-900 dark:text-slate-100">Settings</button>
    <button id="theme-toggle" class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-700 text-slate-900 dark:text-slate-100">Theme</button>
    <button id="sign-in-btn" class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-700 text-slate-900 dark:text-slate-100">Sign In</button>
    <button id="sign-out-btn" class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-700 text-slate-900 dark:text-slate-100" hidden>Sign Out</button>
  </nav>
  <main class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8">
    <section data-view="dashboard" id="view-dashboard">
      <!-- Hero -->
      <section class="pt-24 pb-16 text-center">
        <h1 class="text-4xl sm:text-5xl font-bold tracking-tight">Memory Cue</h1>
        <p class="mt-4 text-lg text-slate-700 dark:text-slate-300">All your classroom tools in one place.</p>
        <div class="mt-8 flex flex-col sm:flex-row justify-center gap-4">
          <a href="#" class="inline-flex items-center justify-center rounded-xl bg-brand-600 text-white px-6 py-3 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-brand-600 transition-opacity motion-safe:duration-200 motion-safe:hover:opacity-90">Get started</a>
        </div>
      </section>

      <!-- What's inside -->
      <section aria-labelledby="inside-heading" class="py-16">
        <h2 id="inside-heading" class="text-2xl font-semibold text-center">What's inside</h2>
        <div class="mt-8 grid grid-cols-1 sm:grid-cols-3 gap-8">
          <!-- Reminders -->
          <div class="p-8 rounded-xl bg-white dark:bg-slate-800 shadow flex flex-col items-start transition-transform motion-safe:duration-200 motion-safe:hover:-translate-y-0.5">
            <svg class="w-6 h-6 text-brand-600 mb-4" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" d="M12 6v6l4 2"/></svg>
            <h3 class="font-medium">Reminders</h3>
            <p class="mt-2 text-sm text-slate-700 dark:text-slate-300">Set tasks and forget the forgetting.</p>
          </div>
          <!-- Planner -->
          <div class="p-8 rounded-xl bg-white dark:bg-slate-800 shadow flex flex-col items-start transition-transform motion-safe:duration-200 motion-safe:hover:-translate-y-0.5">
            <svg class="w-6 h-6 text-brand-600 mb-4" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" d="M3 5h18M3 12h18M3 19h18"/></svg>
            <h3 class="font-medium">Planner</h3>
            <p class="mt-2 text-sm text-slate-700 dark:text-slate-300">Organize your day at a glance.</p>
          </div>
          <!-- Notes -->
          <div class="p-8 rounded-xl bg-white dark:bg-slate-800 shadow flex flex-col items-start transition-transform motion-safe:duration-200 motion-safe:hover:-translate-y-0.5">
            <svg class="w-6 h-6 text-brand-600 mb-4" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" d="M5 3h14v18H5z"/></svg>
            <h3 class="font-medium">Notes</h3>
            <p class="mt-2 text-sm text-slate-700 dark:text-slate-300">Capture ideas before they fade.</p>
          </div>
        </div>
      </section>
    </section>
    <section data-view="reminders" id="view-reminders" hidden>
      <div class="mb-4 space-y-2">
        <input id="title" class="border p-2 w-full" placeholder="Reminder title" />
        <div id="dateFeedback" class="text-sm text-slate-500 hidden"></div>
        <div class="flex gap-2">
          <input id="date" type="date" class="border p-2 flex-1" />
          <input id="time" type="time" class="border p-2 flex-1" />
          <select id="priority" class="border p-2">
            <option>High</option>
            <option selected>Medium</option>
            <option>Low</option>
          </select>
        </div>
        <div class="flex gap-2">
          <button id="saveBtn" class="px-4 py-2 bg-brand-600 text-white rounded flex-1" type="button">Save Reminder</button>
          <button id="cancelEditBtn" class="px-4 py-2 bg-red-500 text-white rounded flex-1 hidden" type="button">Cancel</button>
        </div>
        <div id="status" class="text-sm"></div>
      </div>
      <div class="mb-4 flex gap-2 flex-wrap items-center">
        <div class="flex gap-2">
          <button class="px-2 py-1 bg-slate-200 dark:bg-slate-700 rounded" data-filter="today" type="button">Today</button>
          <button class="px-2 py-1 bg-slate-200 dark:bg-slate-700 rounded" data-filter="overdue" type="button">Overdue</button>
          <button class="px-2 py-1 bg-slate-200 dark:bg-slate-700 rounded" data-filter="all" type="button">All</button>
          <button class="px-2 py-1 bg-slate-200 dark:bg-slate-700 rounded" data-filter="done" type="button">Done</button>
        </div>
        <select id="sort" class="border p-1 ml-auto">
          <option value="smart">Smart sort</option>
          <option value="time">Time</option>
          <option value="priority">Priority</option>
        </select>
      </div>
      <div class="flex gap-4 mb-4">
        <div>Today: <span id="inlineTodayCount">0</span></div>
        <div>This Week: <span id="inlineWeekCount">0</span></div>
      </div>
      <div class="mb-4 space-x-2">
        <button id="googleSignInBtn" class="px-2 py-1 bg-purple-600 text-white rounded" type="button">Sign in with Google</button>
        <button id="googleSignOutBtn" class="px-2 py-1 bg-red-500 text-white rounded hidden" type="button">Sign out</button>
        <img id="googleAvatar" class="w-6 h-6 rounded-full hidden" alt="Google avatar" />
        <span id="googleUserName" class="text-sm"></span>
        <div id="syncStatus" class="text-sm">Offline</div>
      </div>
      <div id="list" class="space-y-2"></div>
    </section>
    <section data-view="planner" id="view-planner" hidden>
      <div class="flex gap-2 mb-4">
        <button id="planner-prev" class="px-2 py-1 bg-slate-200 dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded">Prev</button>
        <button id="planner-today" class="px-2 py-1 bg-slate-200 dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded">Today</button>
        <button id="planner-next" class="px-2 py-1 bg-slate-200 dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded">Next</button>
      </div>
      <div id="planner-week" class="p-4 bg-white dark:bg-slate-800 rounded shadow"></div>
    </section>
    <section data-view="notes" id="view-notes" hidden>
      <div class="flex gap-2 mb-2">
        <button id="bullet-btn" class="px-2 py-1 bg-slate-200 dark:bg-slate-700 rounded">&bull;</button>
        <button id="number-btn" class="px-2 py-1 bg-slate-200 dark:bg-slate-700 rounded">1.</button>
      </div>
      <div id="quick-note" class="w-full border p-2 h-40 overflow-auto" contenteditable="true" aria-label="Write a quick note..."></div>
      <div class="mt-2 flex flex-wrap gap-2">
        <button id="save-note" class="px-4 py-2 bg-brand-600 text-white rounded">Save</button>
        <select id="saved-notes" class="border p-2 flex-1">
          <option value="">Select a note</option>
        </select>
        <button id="load-note" class="px-4 py-2 bg-slate-200 dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded">Load</button>
        <button id="clear-note" class="px-4 py-2 bg-slate-200 dark:bg-slate-700 text-slate-900 dark:text-slate-100 rounded">Clear</button>
      </div>
    </section>
    <section data-view="resources" id="view-resources" hidden></section>
    <section data-view="templates" id="view-templates" hidden></section>
    <section data-view="settings" id="view-settings" hidden></section>
  </main>
  <footer class="border-t border-slate-200 dark:border-slate-700 py-8 mt-16">
    <div class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between text-sm">
      <p>&copy; <span id="year"></span> Memory Cue</p>
      <a href="#top" class="text-brand-600 hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-brand-600">Back to top</a>
    </div>
  </footer>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
  <script src="./js/firebase-init.js"></script>
  <script>
    // Set current year
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
  <script src="./js/main.js"></script>
  <!-- Reminder logic -->
  <script type="module">
    import { initReminders } from './js/reminders.js';
    initReminders({
      titleSel: '#title',
      dateSel: '#date',
      timeSel: '#time',
      prioritySel: '#priority',
      saveBtnSel: '#saveBtn',
      cancelEditBtnSel: '#cancelEditBtn',
      listSel: '#list',
      googleSignInBtnSel: '#googleSignInBtn',
      googleSignOutBtnSel: '#googleSignOutBtn',
      statusSel: '#status',
      syncStatusSel: '#syncStatus',
      dateFeedbackSel: '#dateFeedback',
      googleAvatarSel: '#googleAvatar',
      googleUserNameSel: '#googleUserName',
      filterBtnsSel: '[data-filter]',
      sortSel: '#sort',
      countTodaySel: '#inlineTodayCount',
      countWeekSel: '#inlineWeekCount'
    });
  </script>
  <script>
    if ('serviceWorker' in navigator) {
      const basePath = window.location.pathname.endsWith('/')
        ? window.location.pathname
        : window.location.pathname.substring(0, window.location.pathname.lastIndexOf('/') + 1);
      const swUrl = `${basePath}service-worker.js`;
      navigator.serviceWorker
        .register(swUrl)
        .then(() => console.log('Service worker registered:', swUrl))
        .catch(err => console.error('Service worker registration failed:', err));
    }
  </script>
</body>
</html>
